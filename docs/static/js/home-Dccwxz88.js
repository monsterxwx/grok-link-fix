import{_ as $e}from"./index-D2-gTsT0.js";import{c as oe,y as Me,v as a,l as i,z as T,A as e,B as we,C as G,D as C,E as Q,F as O,T as Se,r,o as ve,w as _e,q as P,G as se,H as ae,I as V,J as qe,K as X,L as te,M as ee,n as ne,N as Ie,O as Ke,P as Ge,Q as ke}from"./@vue-W9DgQ68t.js";import{d as ye}from"./dayjs-BAJkae7J.js";import{m as Ye}from"./mqtt-B599Pv6F.js";import"./vue-router-BUt8VMXM.js";/* empty css                      */import"./pinia-CTnre8Dh.js";import"./pinia-plugin-persistedstate-zifC5664.js";import"./vue-echarts-CpBuajXL.js";import"./echarts-DrCW8zLf.js";import"./zrender-xzpZnBn0.js";import"./tslib-BDyQ-Jie.js";const Qe=""+new URL("../../juanzhen.jpg",import.meta.url).href,We={class:"text-lg font-bold text-slate-800 mb-4 flex items-center gap-2"},Xe={key:0,class:"text-amber-500"},Ze={key:1,class:"text-purple-500"},et={key:2,class:"text-red-500"},tt={class:"space-y-4"},ot=["innerHTML"],lt={class:"flex justify-end gap-3 mt-6"},W={__name:"Modal",props:{visible:{type:Boolean,default:!1},title:{type:String,default:"æç¤º"},content:{type:String,default:""},type:{type:String,default:"info"},showCancel:{type:Boolean,default:!0},showConfirm:{type:Boolean,default:!0},cancelText:{type:String,default:"å–æ¶ˆ"},confirmText:{type:String,default:"ç¡®å®š"},closeOnBackdrop:{type:Boolean,default:!0}},emits:["update:visible","confirm","cancel"],setup($,{emit:h}){const M=$,g=h,L=()=>{g("update:visible",!1),g("cancel")},m=()=>{g("confirm")},d=()=>{M.closeOnBackdrop&&L()},S=oe(()=>{switch(M.type){case"error":case"warning":return"bg-red-500 hover:bg-red-600";case"primary":return"bg-blue-500 hover:bg-blue-600";case"info":case"success":default:return"bg-purple-500 hover:bg-purple-600"}});return(_,f)=>(a(),Me(Se,{to:"body"},[$.visible?(a(),i("div",{key:0,class:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/50 backdrop-blur-sm transition-opacity",onClick:d},[e("div",{class:"bg-white rounded-2xl p-6 max-w-sm w-full mx-4 relative shadow-2xl transition-transform",onClick:f[0]||(f[0]=O(()=>{},["stop"]))},[e("h3",We,[we(_.$slots,"icon",{},()=>[$.type==="warning"?(a(),i("div",Xe,[...f[1]||(f[1]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1)])])):$.type==="info"?(a(),i("div",Ze,[...f[2]||(f[2]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)])])):$.type==="error"?(a(),i("div",et,[...f[3]||(f[3]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)])])):T("",!0)]),G(" "+C($.title),1)]),e("div",tt,[we(_.$slots,"default",{},()=>[e("p",{class:"text-slate-600 text-sm leading-relaxed",innerHTML:$.content},null,8,ot)]),e("div",lt,[$.showCancel?(a(),i("button",{key:0,onClick:L,class:"px-4 py-2 bg-slate-100 text-slate-700 rounded-lg hover:bg-slate-200 transition-colors text-sm"},C($.cancelText),1)):T("",!0),$.showConfirm?(a(),i("button",{key:1,onClick:m,class:Q([S.value,"px-4 py-2 text-white rounded-lg transition-colors text-sm"])},C($.confirmText),3)):T("",!0)])])])])):T("",!0)]))}},me=($,h)=>{const M=$.__vccOpts||$;for(const[g,L]of h)M[g]=L;return M},st={class:"history-manager bg-white/80 backdrop-blur-xl rounded-3xl shadow-xl border border-white/50 p-6"},nt={class:"flex justify-between items-center mb-1"},rt={class:"flex gap-2"},at={class:"mb-4"},it={class:"flex flex-wrap gap-2"},dt=["onClick"],ut=["title"],ct=["onBlur","onKeyup"],pt={class:"align-middle"},vt={key:0,class:"pl-2 ml-1 border-l border-slate-200/50 flex items-center gap-1 shrink-0"},mt=["onClick"],ft=["onClick"],xt=["onClick"],bt={class:"space-y-3 max-h-[400px] overflow-y-auto pr-2"},ht={key:0,class:"text-center py-8 text-slate-400 text-sm"},gt={class:"flex items-center gap-3"},wt={class:"flex-1 min-w-0 w-0"},kt={class:"mb-0.5"},yt=["onBlur","onKeyup"],Ct=["onClick"],$t=["href"],Mt={class:"text-[10px] text-slate-300 mt-0.5"},St={class:"flex gap-1 shrink-0 opacity-100 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity"},_t=["onClick"],It=["onClick"],Lt=["onClick"],jt={key:0,class:"text-slate-600"},Bt={key:1,class:"text-slate-600"},Ut={class:"grid grid-cols-2 gap-2 max-h-[300px] overflow-y-auto"},Ft=["onClick"],Tt={__name:"HistoryManager",props:{newLink:{type:String,default:""}},emits:["link-added"],setup($,{expose:h,emit:M}){const g=$,L=M,m=r([]),d=r([]),S=r("root"),_=r(null),f=r(""),B=r(!1),F=r(""),E=r(null),D=r(null),w=r(!1),N=r(!1),q=r(!1),K=r("link"),R=r(null),U=r(!1),A=r(!1),J=r(null),H=r(""),Y=r({}),c=r(!1),o=r("æç¤º"),p=r(""),b=(s,t="æç¤º")=>{p.value=s,o.value=t,c.value=!0},k=oe(()=>m.value.filter(s=>s.folderId===S.value)),x=oe(()=>k.value),n=()=>{const s=localStorage.getItem("grokHistoryLinks"),t=localStorage.getItem("grokHistoryFolders");s&&(m.value=JSON.parse(s)),t?d.value=JSON.parse(t):(d.value=[{id:"default",name:"é»˜è®¤æ–‡ä»¶å¤¹",createdAt:new Date().toISOString()}],v())},v=()=>{localStorage.setItem("grokHistoryLinks",JSON.stringify(m.value)),localStorage.setItem("grokHistoryFolders",JSON.stringify(d.value))},I=(s,t="æœªå‘½å")=>{if(m.value.find(j=>j.url===s))return;const u=d.value.length>0?d.value[0].id:"default",y={id:Date.now().toString()+Math.random().toString(36).substr(2,9),name:t,url:s,folderId:u,createdAt:new Date().toISOString()};m.value.unshift(y),v(),L("link-added",y)},re=s=>{_.value=s.id,f.value=s.name,ne(()=>{var t,l;(t=E.value)==null||t.focus(),(l=E.value)==null||l.select()})},le=s=>{const t=m.value.find(l=>l.id===s);t&&f.value.trim()&&(t.name=f.value.trim(),v()),_.value=null,f.value=""},Z=()=>{_.value=null,f.value=""},Le=s=>{J.value=s.id,H.value=s.name,ne(()=>{const t=Y.value[s.id];t&&(t.focus(),t.select())})},fe=s=>{const t=d.value.find(l=>l.id===s);if(t&&H.value.trim()){const l=H.value.trim();if(d.value.find(y=>y.name===l&&y.id!==s)){b("å·²å­˜åœ¨åŒåæ–‡ä»¶å¤¹ï¼Œè¯·æ¢ä¸ªåå­—");return}t.name=l,v()}J.value=null,H.value=""},je=()=>{J.value=null,H.value=""},xe=(s,t)=>{if(K.value=s,R.value=t,s==="folder"){const l=m.value.some(u=>u.folderId===t);U.value=l}else U.value=!1;q.value=!0},Be=()=>{K.value==="link"?m.value=m.value.filter(s=>s.id!==R.value):K.value==="folder"&&(d.value=d.value.filter(s=>s.id!==R.value),S.value===R.value&&d.value.length>0&&(S.value=d.value[0].id)),v(),q.value=!1,R.value=null,U.value=!1},be=()=>{q.value=!1,R.value=null},he=()=>{if(!F.value.trim())return;const s={id:Date.now().toString()+Math.random().toString(36).substr(2,9),name:F.value.trim(),createdAt:new Date().toISOString()};d.value.push(s),v(),B.value=!1,F.value=""},Ue=s=>{S.value=s},Fe=s=>{D.value=s,w.value=!0},Te=(s,t)=>{const l=m.value.find(u=>u.id===s);l&&(l.folderId=t,v(),w.value=!1,D.value=null)},ze=s=>ye(s).format("YYYY-MM-DD HH:mm"),De=async s=>{const t=m.value.filter(y=>y.folderId===s.id);if(t.length===0){b("è¯¥æ–‡ä»¶å¤¹ä¸ºç©ºï¼Œæ— æ³•åˆ†äº«");return}const l=t.map(y=>{let j={u:y.url};y.name&&y.name!=="æœªå‘½å"&&y.name!=="æœªå‘½åé“¾æ¥"&&(j.n=y.name);const z=y.url.match(/post\/([a-fA-F0-9-]+)(\?|$)/);return z&&z[1]&&(j.u=z[1]),j}),u=[s.name,l];try{const{compressToEncodedURIComponent:y}=await $e(async()=>{const{compressToEncodedURIComponent:de}=await import("./lz-string-DywqlNLq.js").then(ue=>ue.l);return{compressToEncodedURIComponent:de}},[],import.meta.url),j=JSON.stringify(u),z=y(j),ie=`${window.location.origin}${window.location.pathname}?s=${z}`;await navigator.clipboard.writeText(ie),A.value=!0,setTimeout(()=>{A.value=!1},3e3)}catch(y){console.error("åˆ†äº«å¤±è´¥:",y),b("ç”Ÿæˆåˆ†äº«é“¾æ¥å¤±è´¥ï¼Œè¯·é‡è¯•")}},Ne=async s=>{try{const t=s.url.match(/([a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12})/);let l="";if(t)l=t[1];else{const ge=s.url.match(/([a-fA-F0-9]{32})/);ge&&(l=ge[1])}if(!l){b("æ— æ³•æå–æœ‰æ•ˆçš„ UUID è¿›è¡Œåˆ†äº«");return}const u=l.replace(/-/g,""),y=["âœ¦","âœ¨","â€","âœ¿","âœ¾","â","â„","â˜…","â˜†","â™¥","â™¡","â™ª","â™«","â˜¼","â˜€","â˜","â˜‚","â˜ƒ","â˜„"],j=()=>y[Math.floor(Math.random()*y.length)],z=u.substr(0,8),ie=u.substr(8,4),de=u.substr(12,4),ue=u.substr(16,4),Ae=u.substr(20,12),He=j(),Oe=j(),Ve=j(),Ee=j(),Re=j(),Je=j(),Pe=`çœ‹æˆ‘ç”Ÿæˆçš„ç»å¦™å†…å®¹${`${He}${z}${Oe}${ie}${Ve}${de}${Ee}${ue}${Re}${Ae}${Je}`}å¤åˆ¶è¿™æ®µè¯æ‰“å¼€#Groké“¾æ¥è¡¥å…¨#å·¥å…·å³å¯ç›´æ¥æŸ¥çœ‹ï¼`;await navigator.clipboard.writeText(Pe),A.value=!0,setTimeout(()=>{A.value=!1},3e3)}catch(t){console.error("é˜²ååˆ†äº«å¤±è´¥:",t),b("ç”Ÿæˆåˆ†äº«å£ä»¤å¤±è´¥ï¼Œè¯·é‡è¯•")}};return ve(()=>{n(),d.value.length>0&&(S.value=d.value[0].id)}),_e(()=>g.newLink,(s,t)=>{s&&s!==t&&I(s)}),h({addLink:I,importSharedFolder:s=>{if(!s||!s.folderName||!Array.isArray(s.links))return!1;const t=Date.now().toString()+Math.random().toString(36).substr(2,9);let l=s.folderName;d.value.some(z=>z.name===l)&&(l=`${l} (åˆ†äº«å¯¼å…¥ ${ye().format("MM-DD HH:mm")})`);const y={id:t,name:l,createdAt:new Date().toISOString()};d.value.push(y);const j=s.links.map(z=>({id:Date.now().toString()+Math.random().toString(36).substr(2,9),name:z.name||"æœªå‘½åé“¾æ¥",url:z.url,folderId:t,createdAt:new Date().toISOString()}));return m.value=[...j,...m.value],v(),S.value=t,!0}}),(s,t)=>(a(),i("div",st,[e("div",nt,[t[15]||(t[15]=e("h2",{class:"text-lg font-bold text-slate-800 flex items-center gap-2"},[e("span",{class:"w-1 h-6 bg-purple-500 rounded-full"}),G(" å†å²è®°å½• ")],-1)),e("div",rt,[e("div",{onClick:t[0]||(t[0]=l=>N.value=!N.value),class:Q(["cursor-pointer",["p-1.5 rounded-lg transition-colors",N.value?"text-purple-600":"text-slate-400"]]),title:"ç®¡ç†æ–‡ä»¶å¤¹"},[...t[13]||(t[13]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1)])],2),e("button",{onClick:t[1]||(t[1]=l=>B.value=!0),class:"px-3 py-1.5 bg-blue-500 hover:bg-blue-600 text-white rounded-lg text-sm transition-colors flex items-center gap-1"},[...t[14]||(t[14]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),G(" æ–°å»ºæ–‡ä»¶å¤¹ ",-1)])])])]),e("div",at,[e("div",it,[(a(!0),i(se,null,ae(d.value,l=>(a(),i("div",{key:l.id,onClick:u=>Ue(l.id),class:Q(["flex items-center px-3 py-1.5 rounded-lg text-sm transition-all cursor-pointer max-w-full sm:max-w-[240px]",S.value===l.id?"bg-purple-100 text-purple-700 border border-purple-200 font-medium":"bg-white text-slate-600 border border-slate-200 shadow-sm hover:border-purple-300 hover:text-purple-600"])},[e("div",{class:"flex-1 text-left truncate",title:l.name},[J.value===l.id?X((a(),i("input",{key:0,"onUpdate:modelValue":t[2]||(t[2]=u=>H.value=u),class:"w-full text-sm font-bold text-slate-700 bg-white border border-purple-200 rounded px-1 focus:outline-none focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500",onBlur:u=>fe(l.id),onKeyup:[ee(u=>fe(l.id),["enter"]),ee(je,["esc"])],ref_for:!0,ref:u=>{u&&(Y.value[l.id]=u)},onClick:t[3]||(t[3]=O(()=>{},["stop"]))},null,40,ct)),[[te,H.value]]):(a(),i(se,{key:1},[t[16]||(t[16]=e("svg",{class:"w-3 h-3 inline mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})],-1)),e("span",pt,C(l.name),1)],64))],8,ut),N.value?(a(),i("div",vt,[e("div",{onClick:O(u=>Le(l),["stop"]),class:"text-slate-400 hover:text-green-500 transition-colors p-1",title:"é‡å‘½å"},[...t[17]||(t[17]=[e("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})],-1)])],8,mt),e("div",{onClick:O(u=>De(l),["stop"]),class:"text-slate-400 hover:text-blue-500 transition-colors p-1",title:"åˆ†äº«æ–‡ä»¶å¤¹"},[...t[18]||(t[18]=[e("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})],-1)])],8,ft),e("div",{onClick:O(u=>xe("folder",l.id),["stop"]),class:"text-slate-400 hover:text-red-500 transition-colors p-1",title:"åˆ é™¤æ–‡ä»¶å¤¹"},[...t[19]||(t[19]=[e("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,xt)])):T("",!0)],10,dt))),128))])]),e("div",bt,[k.value.length===0?(a(),i("div",ht," è¯¥æ–‡ä»¶å¤¹ä¸ºç©º ")):T("",!0),(a(!0),i(se,null,ae(x.value,l=>(a(),i("div",{key:l.id,class:"group relative p-3 rounded-2xl hover:bg-slate-50 transition-all border border-transparent hover:border-slate-100"},[e("div",gt,[t[23]||(t[23]=e("div",{class:"w-10 h-10 rounded-full bg-purple-50 flex items-center justify-center text-purple-500 shrink-0"},[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})])],-1)),e("div",wt,[e("div",kt,[_.value===l.id?X((a(),i("input",{key:0,"onUpdate:modelValue":t[4]||(t[4]=u=>f.value=u),class:"w-full text-sm font-bold text-slate-700 bg-white border border-purple-200 rounded px-2 py-0.5 focus:outline-none focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500",onBlur:u=>le(l.id),onKeyup:[ee(u=>le(l.id),["enter"]),ee(Z,["esc"])],ref_for:!0,ref_key:"editInput",ref:E,onClick:t[5]||(t[5]=O(()=>{},["stop"]))},null,40,yt)),[[te,f.value]]):(a(),i("span",{key:1,class:"block text-sm font-bold text-slate-700 truncate cursor-pointer hover:text-purple-600 transition-colors",onClick:u=>re(l)},C(l.name),9,Ct))]),e("a",{href:l.url,target:"_blank",rel:"noopener noreferrer",class:"text-xs text-slate-400 hover:text-purple-500 hover:underline truncate block transition-colors"},C(l.url),9,$t),e("div",Mt,C(ze(l.createdAt)),1)]),e("div",St,[e("button",{onClick:O(u=>Ne(l),["stop"]),class:"p-1.5 text-slate-400 hover:text-green-500 hover:bg-green-50 rounded-lg transition-colors",title:"ç”Ÿæˆé˜²ååˆ†äº«å£ä»¤"},[...t[20]||(t[20]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})],-1)])],8,_t),e("button",{onClick:O(u=>Fe(l.id),["stop"]),class:"p-1.5 text-slate-400 hover:text-blue-500 hover:bg-blue-50 rounded-lg transition-colors",title:"ç§»åŠ¨åˆ°æ–‡ä»¶å¤¹"},[...t[21]||(t[21]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})],-1)])],8,It),e("button",{onClick:O(u=>xe("link",l.id),["stop"]),class:"p-1.5 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"åˆ é™¤"},[...t[22]||(t[22]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,Lt)])])]))),128))]),P(W,{visible:B.value,"onUpdate:visible":t[7]||(t[7]=l=>B.value=l),title:"æ–°å»ºæ–‡ä»¶å¤¹",type:"primary","confirm-text":"åˆ›å»º",onConfirm:he},{default:V(()=>[e("div",null,[t[24]||(t[24]=e("label",{class:"block text-sm font-medium text-slate-700 mb-1"},"æ–‡ä»¶å¤¹åç§°",-1)),X(e("input",{"onUpdate:modelValue":t[6]||(t[6]=l=>F.value=l),class:"w-full p-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"è¾“å…¥æ–‡ä»¶å¤¹åç§°",onKeyup:ee(he,["enter"])},null,544),[[te,F.value]])])]),_:1},8,["visible"]),P(W,{visible:q.value,"onUpdate:visible":t[8]||(t[8]=l=>q.value=l),title:U.value?"æ— æ³•åˆ é™¤":K.value==="link"?"åˆ é™¤é“¾æ¥":"åˆ é™¤æ–‡ä»¶å¤¹",type:U.value?"warning":"error","show-cancel":!U.value,"confirm-text":U.value?"çŸ¥é“äº†":"åˆ é™¤",onConfirm:t[9]||(t[9]=l=>U.value?be():Be()),onCancel:be},qe({default:V(()=>[e("div",null,[U.value?(a(),i("p",jt," è¯¥æ–‡ä»¶å¤¹å†…åŒ…å«é“¾æ¥ï¼Œè¯·å…ˆæ¸…ç©ºæˆ–ç§»åŠ¨é“¾æ¥åå†å°è¯•åˆ é™¤ã€‚ ")):(a(),i("p",Bt,C(K.value==="link"?"ç¡®å®šè¦åˆ é™¤è¿™ä¸ªé“¾æ¥å—ï¼Ÿ":"ç¡®å®šè¦åˆ é™¤è¿™ä¸ªæ–‡ä»¶å¤¹å—ï¼Ÿ"),1))])]),_:2},[U.value?{name:"icon",fn:V(()=>[t[25]||(t[25]=e("div",{class:"text-amber-500"},[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])],-1))]),key:"0"}:void 0]),1032,["visible","title","type","show-cancel","confirm-text"]),P(W,{visible:w.value,"onUpdate:visible":t[10]||(t[10]=l=>w.value=l),title:"ç§»åŠ¨åˆ°æ–‡ä»¶å¤¹",type:"primary","show-confirm":!1,"cancel-text":"å…³é—­"},{default:V(()=>[e("div",null,[t[26]||(t[26]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"é€‰æ‹©ç›®æ ‡æ–‡ä»¶å¤¹",-1)),e("div",Ut,[(a(!0),i(se,null,ae(d.value,l=>(a(),i("button",{key:l.id,class:"px-4 py-2 border border-slate-300 rounded-lg hover:bg-purple-500 hover:text-white transition-colors text-sm truncate",onClick:u=>Te(D.value,l.id)},C(l.name),9,Ft))),128))])])]),_:1},8,["visible"]),P(W,{visible:c.value,"onUpdate:visible":t[11]||(t[11]=l=>c.value=l),title:o.value,content:p.value,"show-cancel":!1,type:"info","confirm-text":"çŸ¥é“äº†",onConfirm:t[12]||(t[12]=l=>c.value=!1)},null,8,["visible","title","content"]),(a(),Me(Se,{to:"body"},[A.value?(a(),i("div",{key:0,class:Q(["fixed top-4 left-1/2 -translate-x-1/2 z-[9999] px-6 py-3 bg-slate-800 text-white rounded-full shadow-lg flex items-center gap-2 transition-all transform duration-300",A.value?"translate-y-0 opacity-100":"-translate-y-4 opacity-0"])},[...t[27]||(t[27]=[e("svg",{class:"w-5 h-5 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1),G(" åˆ†äº«å†…å®¹å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼ ",-1)])],2)):T("",!0)]))]))}},zt=me(Tt,[["__scopeId","data-v-95d99412"]]),Dt={class:"fixed bottom-6 right-6 z-[100] font-sans"},Nt={class:"absolute bottom-16 right-0 w-80 sm:w-96 bg-white/90 backdrop-blur-xl rounded-3xl shadow-2xl border border-purple-100 flex flex-col overflow-hidden transition-all h-[500px] max-h-[80vh]"},At={class:"px-5 py-4 bg-gradient-to-r from-purple-600 to-pink-600 text-white flex justify-between items-center shadow-lg"},Ht={class:"flex items-center gap-2"},Ot={class:"flex flex-col"},Vt={class:"flex items-center gap-2"},Et={key:0,class:"bg-white/20 px-1.5 py-0.5 rounded-full text-[10px] font-medium"},Rt=["title"],Jt={class:"px-5 py-2.5 border-b border-purple-50 bg-purple-50/50 flex items-center gap-2 text-xs text-purple-700/80"},Pt={class:"font-bold text-purple-600 border-b border-dashed border-purple-300 group-hover:border-purple-600 truncate max-w-[120px]"},qt={key:0,class:"absolute inset-0 flex flex-col items-center justify-center text-center px-4 pointer-events-none"},Kt={class:"text-[10px] text-slate-400 mb-1.5 px-1 flex items-center gap-1.5"},Gt={key:0,class:"font-medium text-slate-500"},Yt={class:"p-4 bg-white border-t border-purple-50"},Qt=["disabled"],Wt=["disabled"],Xt={key:0,class:"absolute -top-2 -right-2 flex items-center justify-center min-w-[20px] h-5 px-1 rounded-full bg-red-500 border-2 border-white text-[10px] font-bold shadow-sm whitespace-nowrap"},Zt={key:1,class:"w-6 h-6 group-hover:scale-110 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},eo={key:2,class:"w-6 h-6 group-hover:rotate-90 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ce="grok-link-fix-global-chat-v1-monsterxwx-public",pe="grok-link-fix-global-chat-v1-system",to={__name:"LiveChat",setup($){const h=r(!1),M=r(0),g=r(!1),L=r([]),m=r(""),d=r(new Map),S=oe(()=>d.value.size||1),_=r(null),f=r("åŒ¿åç”¨æˆ·"),B=r(!1),F=r(""),E=r(null),D="chat_user_"+Math.random().toString(16).substr(2,8);let w=null;const N=r(null),q=oe(()=>g.value?"å·²è¿æ¥":"è¿æ¥æœåŠ¡å™¨ä¸­..."),K=()=>{const x=["å¿«ä¹çš„","å¿§éƒçš„","ç¥ç§˜çš„","å¥”è·‘çš„","é£ç¿”çš„","å‹‡æ•¢çš„","èªæ˜çš„","åƒè´§","è°ƒçš®çš„","å¯çˆ±çš„"],n=["çŒ«å’ª","ç‹—ç‹—","å°é¸Ÿ","ç†ŠçŒ«","è€è™","ç‹®å­","æµ·è±š","ä¼é¹…","å…”å­","ä»“é¼ "];return x[Math.floor(Math.random()*x.length)]+n[Math.floor(Math.random()*n.length)]+Math.floor(Math.random()*1e3)},R=()=>{let x=localStorage.getItem("global_chat_username");x||(x=K(),localStorage.setItem("global_chat_username",x)),f.value=x},U=()=>{F.value=f.value,B.value=!0,ne(()=>{E.value&&E.value.focus()})},A=()=>{F.value.trim()&&(f.value=F.value.trim(),localStorage.setItem("global_chat_username",f.value)),B.value=!1},J=()=>{w=Ye.connect("wss://broker.emqx.io:8084/mqtt",{clientId:D,clean:!0,connectTimeout:4e3,reconnectPeriod:2e3}),w.on("connect",()=>{g.value=!0,w.subscribe(ce,{qos:0}),w.subscribe(pe,{qos:0}),console.log("Public Chat Connected"),H()}),w.on("message",(n,v)=>{if(n===pe){try{const I=JSON.parse(v.toString());I.type==="heartbeat"&&I.clientId&&(d.value.set(I.clientId,Date.now()),o())}catch{}return}if(n===ce)try{const I=JSON.parse(v.toString());I.isSelf=I.clientId===D,L.value.push(I),L.value.length>100&&L.value.shift(),!h.value&&!I.isSelf&&M.value++,k()}catch(I){console.error("Failed to parse message",I)}}),w.on("close",()=>{g.value=!1,Y()}),w.on("error",n=>{console.error("MQTT error",n),g.value=!1,Y()})},H=()=>{Y(),c(),_.value=setInterval(c,5e3)},Y=()=>{_.value&&(clearInterval(_.value),_.value=null)},c=()=>{if(g.value&&w){const x=JSON.stringify({type:"heartbeat",clientId:D});w.publish(pe,x,{qos:0}),d.value.set(D,Date.now())}},o=()=>{const x=Date.now();let n=!1;for(const[v,I]of d.value.entries())x-I>12e3&&(d.value.delete(v),n=!0);n&&(d.value=new Map(d.value))},p=()=>{if(!m.value.trim()||!g.value)return;const x={id:Date.now().toString()+Math.random().toString(16).substring(2,6),user:f.value,text:m.value.trim(),time:new Date().toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"}),clientId:D};w.publish(ce,JSON.stringify(x)),m.value="",ne(()=>{k()})},b=()=>{h.value=!h.value,h.value&&(M.value=0,k())},k=()=>{ne(()=>{N.value&&setTimeout(()=>{N.value.scrollTo({top:N.value.scrollHeight,behavior:"smooth"})},50)})};return ve(()=>{R(),J()}),Ie(()=>{w&&w.end()}),(x,n)=>(a(),i("div",Dt,[P(Ge,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"transform translate-y-8 opacity-0","enter-to-class":"transform translate-y-0 opacity-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"transform translate-y-0 opacity-100","leave-to-class":"transform translate-y-8 opacity-0"},{default:V(()=>[X(e("div",Nt,[e("div",At,[e("div",Ht,[n[4]||(n[4]=e("span",{class:"text-xl"},"ğŸ’¬",-1)),e("div",Ot,[e("div",Vt,[n[3]||(n[3]=e("h3",{class:"font-bold text-sm tracking-wide"},"å…¨çƒå…¬å…±ç¾¤èŠå®¤",-1)),g.value?(a(),i("span",Et,C(S.value)+" äººåœ¨çº¿ ",1)):T("",!0)]),e("div",{class:"flex items-center gap-1.5 text-[10px] opacity-90",title:q.value},[e("span",{class:Q(["w-1.5 h-1.5 rounded-full animate-pulse",g.value?"bg-green-400":"bg-yellow-400"])},null,2),G(" "+C(g.value?"å®æ—¶åœ¨çº¿":"è¿æ¥æœåŠ¡å™¨ä¸­..."),1)],8,Rt)])]),e("button",{onClick:n[0]||(n[0]=v=>h.value=!1),class:"text-white/80 hover:text-white bg-white/10 hover:bg-white/20 p-1.5 rounded-full transition-all active:scale-95"},[...n[5]||(n[5]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("div",Jt,[n[7]||(n[7]=e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1)),n[8]||(n[8]=e("span",{class:"font-medium"},"å½“å‰èº«ä»½:",-1)),B.value?X((a(),i("input",{key:0,"onUpdate:modelValue":n[1]||(n[1]=v=>F.value=v),onBlur:A,onKeyup:ee(A,["enter"]),ref_key:"nameInput",ref:E,class:"flex-1 bg-white border border-purple-300 rounded-md px-2 py-1 outline-none focus:border-purple-600 focus:ring-2 focus:ring-purple-200 text-purple-900 font-bold shadow-sm",maxlength:"15"},null,544)),[[te,F.value]]):(a(),i("div",{key:1,class:"flex-1 flex items-center gap-1.5 cursor-pointer group",onClick:U},[e("span",Pt,C(f.value),1),n[6]||(n[6]=e("svg",{class:"w-3.5 h-3.5 text-purple-400 opacity-0 group-hover:opacity-100 transition-opacity",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})],-1))]))]),e("div",{class:"flex-1 overflow-y-auto p-5 space-y-5 bg-slate-50/40 relative chat-scroll",ref_key:"chatBox",ref:N},[L.value.length===0?(a(),i("div",qt,[...n[9]||(n[9]=[e("div",{class:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mb-3"},[e("span",{class:"text-2xl"},"ğŸ‘‹")],-1),e("p",{class:"text-sm font-medium text-slate-500 mb-1"},"æš‚æ— æ–°çš„ç¾¤æ¶ˆæ¯",-1),e("p",{class:"text-xs text-slate-400"},"(å…¬å¼€å…è´¹ä¿¡é“ï¼Œä¸ä¿ç•™è¿‡å¾€å†å²è®°å½•)",-1)])])):T("",!0),(a(!0),i(se,null,ae(L.value,v=>(a(),i("div",{key:v.id,class:Q(["flex flex-col",v.isSelf?"items-end":"items-start"])},[e("div",Kt,[v.isSelf?T("",!0):(a(),i("span",Gt,C(v.user),1)),e("span",{class:Q(v.isSelf?"":"opacity-70")},C(v.time),3)]),e("div",{class:Q(["max-w-[85%] px-3.5 py-2.5 rounded-2xl text-sm break-words shadow-sm leading-relaxed",v.isSelf?"bg-gradient-to-br from-purple-500 to-pink-500 text-white rounded-tr-sm":"bg-white border border-slate-100/50 text-slate-700 rounded-tl-sm shadow-[0_2px_10px_rgba(0,0,0,0.03)]"])},C(v.text),3)],2))),128))],512),e("div",Yt,[e("form",{onSubmit:O(p,["prevent"]),class:"flex items-center gap-3"},[X(e("input",{"onUpdate:modelValue":n[2]||(n[2]=v=>m.value=v),type:"text",placeholder:"è¯´ç‚¹ä»€ä¹ˆä¸€èµ·ç•…æ‰€æ¬²è¨€...",class:"flex-1 bg-slate-50 border border-slate-200 rounded-full px-5 py-2.5 text-sm outline-none focus:bg-white focus:border-purple-400 focus:ring-4 focus:ring-purple-100 transition-all text-slate-700 placeholder:text-slate-400",maxlength:"150",disabled:!g.value},null,8,Qt),[[te,m.value]]),e("button",{type:"submit",disabled:!m.value.trim()||!g.value,class:"w-10 h-10 flex items-center justify-center rounded-full bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-lg hover:shadow-purple-500/40 hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:translate-y-0 disabled:shadow-none transition-all active:scale-95"},[...n[10]||(n[10]=[e("svg",{class:"w-4 h-4 ml-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})],-1)])],8,Wt)],32)])],512),[[Ke,h.value]])]),_:1}),e("button",{onClick:b,class:"w-14 h-14 bg-gradient-to-r from-purple-600 to-pink-600 rounded-full shadow-xl shadow-purple-500/40 flex items-center justify-center text-white hover:-translate-y-1 hover:shadow-purple-500/60 transition-all relative z-50 group active:scale-95"},[M.value>0&&!h.value?(a(),i("span",Xt,C(M.value>99?"99+":M.value),1)):T("",!0),h.value?(a(),i("svg",eo,[...n[12]||(n[12]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,-1)])])):(a(),i("svg",Zt,[...n[11]||(n[11]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"},null,-1)])]))])]))}},oo=me(to,[["__scopeId","data-v-8f0c4d15"]]),lo={class:"min-h-screen bg-slate-50 relative overflow-hidden font-sans selection:bg-purple-100"},so={class:"relative z-10 max-w-5xl mx-auto px-6 py-12"},no={class:"grid lg:grid-cols-12 gap-8"},ro={class:"lg:col-span-8 space-y-6"},ao={class:"bg-white/70 backdrop-blur-xl rounded-3xl shadow-xl border border-white/50 p-6 md:p-8 min-h-[400px] flex flex-col transition-all"},io={class:"mb-6"},uo={class:"flex justify-end mb-6"},co={class:"flex-1"},po={key:0,class:"relative group"},vo={class:"w-full p-4 pr-24 rounded-xl bg-purple-50 border border-purple-100 text-purple-900 break-all font-mono text-sm leading-relaxed"},mo={class:"absolute right-2 top-2 bottom-2 flex flex-col justify-center gap-2"},fo={key:0},xo={key:1,class:"flex items-center gap-1"},bo={key:1,class:"h-full min-h-[100px] flex items-center justify-center bg-slate-50 border border-dashed border-slate-200 rounded-xl text-slate-400 text-sm"},ho={key:0},go={key:1,class:"text-red-400 flex items-center gap-1"},wo={class:"lg:col-span-4 space-y-6"},ko={class:"space-y-4"},yo={class:"p-4 bg-purple-50 rounded-xl border border-purple-100"},Co={class:"font-bold text-purple-900 mb-1 flex items-center gap-2"},$o={class:"text-sm text-purple-700"},Mo={class:"space-y-4"},So={class:"p-3 bg-slate-50 rounded-lg border border-slate-200 text-xs text-slate-500 break-all max-h-24 overflow-y-auto line-clamp-3"},Ce="1.3",_o="æ–°åŠŸèƒ½å‘å¸ƒ (v1.3)",Io=`
  <div class="space-y-2 text-sm text-slate-600">
    <p class="font-bold text-slate-800">æœ¬æ¬¡æ›´æ–°å†…å®¹ï¼š</p>
    <ul class="list-disc pl-5 space-y-1">
      <li>æ–°å¢ï¼šå…¨å±€åŒ¿åå³æ—¶ç¾¤èŠåŠŸèƒ½ï¼Œå¿«æ¥å’Œå¤§å®¶ç•…æ‰€æ¬²è¨€å§ï¼æ— ä»»ä½•é™åˆ¶ï¼Œéšä¾¿èŠï¼Œéšä¾¿åˆ†äº«å¥½çœ‹çš„é“¾æ¥ã€‚</li>
      <li>æ–°å¢ï¼šåˆ†äº«é“¾æ¥å’Œæ–‡ä»¶å¤¹åŠŸèƒ½ï¼Œå¿«æ¥åˆ†äº«ä½ çš„é“¾æ¥æˆ–æ–‡ä»¶å¤¹å§ï¼</li>
    </ul>
    <p class="mt-4 text-xs text-slate-400">ï¼ˆç‚¹å‡»â€œæˆ‘çŸ¥é“äº†â€åï¼Œç›´åˆ°ä¸‹æ¬¡æ›´æ–°å‰ä¸å†æ‰“æ‰°ï¼‰</p>
  </div>
`,Lo={__name:"home",setup($){const h=r(""),M=r(!1),g=r(null),L=r(!1);r(!1);const m=r(!1),d=r(null),S=r(!1),_=r(""),f=r(""),B=r(!1),F=()=>{localStorage.getItem("grok_link_last_version")!==Ce&&(B.value=!0)},E=()=>{localStorage.setItem("grok_link_last_version",Ce),B.value=!1};_e(h,()=>{M.value=!1});const D=()=>{window.open("https://link3.cc/zyshare","_blank")},w=oe(()=>{if(!h.value)return"";const c=h.value.replace(/[^0-9a-fA-F]/g,"").toLowerCase();if(c.length<32)return"";let o="";for(let p=0;p<=c.length-32;p++){const b=c.substr(p,32),k=b[12],x=b[16];if(k==="4"&&["8","9","a","b"].includes(x)){o=b;break}}if(!o&&c.length>=32&&(o=c.substr(0,32)),o){const p=o.substr(0,8),b=o.substr(8,4),k=o.substr(12,4),x=o.substr(16,4),n=o.substr(20,12);return`https://grok.com/imagine/post/${`${p}-${b}-${k}-${x}-${n}`}?source=copy_link&platform=android`}return""}),N=async()=>{if(w.value)try{await navigator.clipboard.writeText(w.value),M.value=!0,setTimeout(()=>{M.value=!1},2e3)}catch(c){console.error("Copy failed",c)}},q=c=>{console.log("Link added to history:",c)},K=()=>{w.value&&(g.value&&g.value.addLink(w.value),window.open(w.value,"_blank"))},R=async()=>{const c=new URLSearchParams(window.location.search),o=c.get("shareData"),p=c.get("s");if(p)try{const{decompressFromEncodedURIComponent:b}=await $e(async()=>{const{decompressFromEncodedURIComponent:n}=await import("./lz-string-DywqlNLq.js").then(v=>v.l);return{decompressFromEncodedURIComponent:n}},[],import.meta.url),k=b(p),x=JSON.parse(k);if(Array.isArray(x)&&x.length===2){const n=x[0],I=x[1].map(le=>{let Z=le.u;return/^[a-fA-F0-9-]{32,}$/.test(Z)&&(Z=`https://grok.com/imagine/post/${Z}?source=copy_link&platform=android`),{name:le.n||"æœªå‘½å",url:Z}});d.value={folderName:n,links:I},m.value=!0;const re=window.location.protocol+"//"+window.location.host+window.location.pathname;window.history.replaceState({path:re},"",re)}}catch(b){console.error("è§£æç²¾ç®€åˆ†äº«æ•°æ®å¤±è´¥:",b)}else if(o)try{const b=decodeURIComponent(atob(o)),k=JSON.parse(b);if(k&&k.folderName&&Array.isArray(k.links)){d.value=k,m.value=!0;const x=window.location.protocol+"//"+window.location.host+window.location.pathname;window.history.replaceState({path:x},"",x)}}catch(b){console.error("è§£æå†å²åˆ†äº«æ•°æ®å¤±è´¥:",b)}},U=()=>{m.value=!1,d.value=null},A=()=>{!d.value||!g.value||(g.value.importSharedFolder&&g.value.importSharedFolder(d.value),m.value=!1,d.value=null)},J=async()=>{if(!(m.value||S.value||L.value||B.value))try{const c=await navigator.clipboard.readText();if(!c||c===f.value||c===h.value)return;const o=c.replace(/[^0-9a-fA-F]/g,"").toLowerCase();if(o.length<32){f.value=c;return}let p=!1;for(let b=0;b<=o.length-32;b++){const k=o.substr(b,32);if(k[12]==="4"&&["8","9","a","b"].includes(k[16])){p=!0;break}}!p&&o.length>=32&&(p=!0),p?(_.value=c,S.value=!0):f.value=c}catch(c){console.debug("è¯»å–å‰ªè´´æ¿å¤±è´¥ï¼Œå¯èƒ½æ˜¯æƒé™æœªæˆäºˆ:",c)}},H=()=>{h.value="",setTimeout(()=>{h.value=_.value},50),f.value=_.value,S.value=!1},Y=()=>{f.value=_.value,S.value=!1};return ve(()=>{R(),F(),window.addEventListener("focus",J),setTimeout(J,500)}),Ie(()=>{window.removeEventListener("focus",J)}),(c,o)=>(a(),i("div",lo,[o[24]||(o[24]=e("div",{class:"absolute inset-0 z-0 opacity-[0.4]",style:{"background-image":"radial-gradient(#cbd5e1 1px, transparent 1px)","background-size":"32px 32px"}},null,-1)),o[25]||(o[25]=e("div",{class:"absolute top-0 right-[-10%] w-[500px] h-[500px] bg-purple-300 rounded-full mix-blend-multiply filter blur-[128px] opacity-40 animate-blob"},null,-1)),o[26]||(o[26]=e("div",{class:"absolute bottom-[-10%] left-[-10%] w-[500px] h-[500px] bg-pink-300 rounded-full mix-blend-multiply filter blur-[128px] opacity-40 animate-blob animation-delay-2000"},null,-1)),e("div",{onClick:D,class:"absolute top-6 right-6 z-50 cursor-pointer"},[...o[8]||(o[8]=[e("div",{class:"relative"},[e("div",{class:"absolute inset-0 bg-gradient-to-r from-purple-600 to-pink-600 rounded-lg blur opacity-40 group-hover:opacity-60 transition-all duration-300"}),e("div",{class:"relative flex items-center gap-2 px-3 py-2 bg-gradient-to-r from-purple-600 to-pink-600 rounded-lg shadow-md shadow-purple-500/20 hover:shadow-purple-500/30 hover:-translate-y-0.5 transition-all duration-300"},[e("span",{class:"text-white font-semibold text-xs"},"ç‘Ÿç‘Ÿæ¸¸æˆ")])],-1)])]),e("div",so,[o[15]||(o[15]=e("div",{class:"flex flex-col items-center mb-10 text-center"},[e("h1",{class:"text-3xl md:text-4xl font-extrabold text-slate-900 mb-3"},[e("span",{class:"text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-pink-600"},"Grok é“¾æ¥ä¿®å¤")]),e("p",{class:"text-slate-600"}," å‰”é™¤ä¹±ç å’Œè¡¨æƒ…ï¼Œæå–æ ¸å¿ƒ UUIDï¼Œç”Ÿæˆå¯ç”¨çš„ Grok ç”Ÿæˆçš„è§†é¢‘è·³è½¬é“¾æ¥ã€‚ ")],-1)),e("div",no,[e("div",ro,[e("div",ao,[e("div",io,[o[9]||(o[9]=e("label",{class:"block text-sm font-bold text-slate-700 mb-2 flex justify-between"},[e("span",null,"åŸå§‹æ–‡æœ¬"),e("span",{class:"text-xs font-normal text-slate-400"},"æ”¯æŒç²˜è´´ä»»æ„åŒ…å« UUID çš„ä¹±ç ")],-1)),X(e("textarea",{"onUpdate:modelValue":o[0]||(o[0]=p=>h.value=p),placeholder:"ç²˜è´´ä½ çš„å†…å®¹ï¼Œä¾‹å¦‚ï¼šçœ‹ä¸‹æˆ‘çš„8a3ae7bc-faaa...?source=...",class:"w-full h-32 p-4 rounded-xl border border-slate-200 bg-white/50 focus:bg-white focus:border-purple-500 focus:ring-4 focus:ring-purple-500/10 transition-all outline-none resize-none text-slate-700 placeholder:text-slate-400"},null,512),[[te,h.value]])]),e("div",uo,[h.value?(a(),i("button",{key:0,onClick:o[1]||(o[1]=p=>h.value=""),class:"text-sm text-slate-400 hover:text-slate-600 mr-4"}," æ¸…ç©ºå†…å®¹ ")):T("",!0)]),e("div",co,[o[13]||(o[13]=e("label",{class:"block text-sm font-bold text-slate-700 mb-2"},"è§£æç»“æœ",-1)),w.value?(a(),i("div",po,[e("div",vo,C(w.value),1),e("div",mo,[e("button",{onClick:N,class:"flex items-center justify-center px-3 py-1.5 bg-white border border-purple-200 shadow-sm rounded-lg text-xs font-medium text-purple-700 hover:bg-purple-600 hover:text-white hover:border-purple-600 transition-all active:scale-95"},[M.value?(a(),i("span",xo,[...o[10]||(o[10]=[e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1),G(" å·²å¤åˆ¶ ",-1)])])):(a(),i("span",fo,"å¤åˆ¶"))]),e("button",{onClick:K,class:"flex items-center justify-center px-3 py-1.5 bg-gradient-to-r from-purple-600 to-pink-600 shadow-lg shadow-purple-500/30 rounded-lg text-xs font-medium text-white hover:shadow-purple-500/50 hover:-translate-y-0.5 transition-all"},[...o[11]||(o[11]=[G(" è·³è½¬ ",-1),e("svg",{class:"w-3 h-3 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h4m10 0h-4a2 2 0 00-2-2V8a2 2 0 002-2h4M6 6m0 0h12v12H6V6z"})],-1)])])])])):(a(),i("div",bo,[h.value?(a(),i("span",go,[...o[12]||(o[12]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),G(" æœªæ£€æµ‹åˆ°æœ‰æ•ˆçš„ UUID æ ¼å¼ ",-1)])])):(a(),i("span",ho,"ç­‰å¾…è¾“å…¥..."))]))])])]),e("div",wo,[P(zt,{ref_key:"historyManagerRef",ref:g,"new-link":w.value,onLinkAdded:q},null,8,["new-link"]),o[14]||(o[14]=ke('<div class="bg-white/80 backdrop-blur-xl rounded-3xl shadow-xl border border-white/50 p-6 sticky top-8" data-v-1b52a84d><h2 class="text-lg font-bold text-slate-800 mb-6 flex items-center gap-2" data-v-1b52a84d><span class="w-1 h-6 bg-purple-500 rounded-full" data-v-1b52a84d></span> å·¥å…·è¯´æ˜ </h2><div class="space-y-4 text-sm text-slate-600 leading-relaxed" data-v-1b52a84d><p data-v-1b52a84d> æœ¬å·¥å…·ç”¨äºä¿®å¤å¤šä½™å†…å®¹çš„ Grok é“¾æ¥ã€‚ </p><div class="bg-blue-50 p-4 rounded-xl border border-blue-100" data-v-1b52a84d><p class="font-bold text-blue-800 mb-2" data-v-1b52a84d> è¯†åˆ«è§„åˆ™ï¼š </p><p data-v-1b52a84d>æˆ‘ä»¬ä¼šæ‰«ææ–‡æœ¬ä¸­ç¬¦åˆ <code class="bg-white px-1 py-0.5 rounded border border-blue-200 text-blue-600 text-xs" data-v-1b52a84d>8-4-4-4-12</code> æ ¼å¼çš„ UUID å­—ç¬¦ä¸²ã€‚</p></div><div data-v-1b52a84d><p class="font-medium text-slate-800 mb-2" data-v-1b52a84d> ç¤ºä¾‹è¾“å…¥ï¼š </p><div class="bg-slate-100 p-2 rounded text-xs text-slate-500 break-all" data-v-1b52a84d> çœ‹ä¸‹æˆ‘çš„8a3ae7bc-faaa-4100-aa82-13939d7ef2b8?source=copy_link </div></div><div class="flex justify-center pt-2" data-v-1b52a84d><svg class="w-5 h-5 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-1b52a84d><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3" data-v-1b52a84d></path></svg></div><div data-v-1b52a84d><p class="font-medium text-slate-800 mb-2" data-v-1b52a84d> æ ‡å‡†è¾“å‡ºï¼š </p><div class="bg-purple-50 p-2 rounded text-xs text-purple-600 break-all border border-purple-100" data-v-1b52a84d> https://grok.com/imagine/post/8a3ae7bc-faaa-4100-aa82-13939d7ef2b8... </div></div></div></div>',1))])])]),L.value?(a(),i("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm",onClick:o[4]||(o[4]=p=>L.value=!1)},[e("div",{class:"bg-white rounded-2xl p-8 max-w-sm mx-4 relative shadow-2xl",onClick:o[3]||(o[3]=O(()=>{},["stop"]))},[e("button",{onClick:o[2]||(o[2]=p=>L.value=!1),class:"absolute top-4 right-4 w-8 h-8 flex items-center justify-center text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100 transition-all"},[...o[16]||(o[16]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])]),o[17]||(o[17]=ke('<div class="text-center" data-v-1b52a84d><div class="text-3xl mb-2" data-v-1b52a84d> â˜•ï¸ </div><h3 class="text-lg font-bold text-gray-800 mb-2" data-v-1b52a84d> æ„Ÿè°¢æ‚¨çš„æ”¯æŒï¼ </h3><div class="bg-gray-50 rounded-xl mb-4" data-v-1b52a84d><div class="w-48 mx-auto bg-white rounded-lg border-2 border-gray-200 flex items-center justify-center overflow-hidden" data-v-1b52a84d><img src="'+Qe+'" alt="æ”¯ä»˜å®æ”¶æ¬¾ç " class="w-full h-full object-cover" data-v-1b52a84d></div></div><p class="text-xs text-gray-400" data-v-1b52a84d> æ‚¨çš„æ”¯æŒæ˜¯æˆ‘ç»§ç»­å¼€å‘çš„åŠ¨åŠ›ï¼ </p></div>',1))])])):T("",!0),P(W,{visible:B.value,"onUpdate:visible":o[5]||(o[5]=p=>B.value=p),title:_o,type:"primary","show-cancel":!1,"confirm-text":"æˆ‘çŸ¥é“äº†",onConfirm:E,onCancel:E,"close-on-backdrop":!1},{icon:V(()=>[...o[18]||(o[18]=[e("div",{class:"text-purple-500 mt-5px"},[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})])],-1)])]),default:V(()=>[e("div",{innerHTML:Io})]),_:1},8,["visible"]),P(W,{visible:m.value,"onUpdate:visible":o[6]||(o[6]=p=>m.value=p),title:"å‘ç°åˆ†äº«çš„æ–‡ä»¶å¤¹",type:"primary","confirm-text":"ç¡®å®šå¯¼å…¥",onConfirm:A,onCancel:U,"close-on-backdrop":!1},{icon:V(()=>[...o[19]||(o[19]=[e("div",{class:"text-purple-500"},[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})])],-1)])]),default:V(()=>{var p,b,k;return[e("div",ko,[e("div",yo,[e("p",Co,[o[20]||(o[20]=e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})],-1)),G(" "+C((p=d.value)==null?void 0:p.folderName),1)]),e("p",$o," åŒ…å« "+C(((k=(b=d.value)==null?void 0:b.links)==null?void 0:k.length)||0)+" ä¸ªé“¾æ¥ ",1)]),o[21]||(o[21]=e("p",{class:"text-slate-600 text-sm"}," æ˜¯å¦å°†è¯¥æ–‡ä»¶å¤¹åŠå…¶åŒ…å«çš„é“¾æ¥ä¿å­˜åˆ°æ‚¨çš„æœ¬åœ°å†å²è®°å½•ä¸­ï¼Ÿ ",-1))])]}),_:1},8,["visible"]),P(W,{visible:S.value,"onUpdate:visible":o[7]||(o[7]=p=>S.value=p),title:"æ£€æµ‹åˆ°æœªå¤„ç†çš„é“¾æ¥",type:"primary","confirm-text":"å¡«å…¥","cancel-text":"å¿½ç•¥",onConfirm:H,onCancel:Y},{icon:V(()=>[...o[22]||(o[22]=[e("div",{class:"text-blue-500"},[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})])],-1)])]),default:V(()=>[e("div",Mo,[o[23]||(o[23]=e("p",{class:"text-slate-600 text-sm"}," åœ¨å‰ªè´´æ¿ä¸­æ£€æµ‹åˆ°åŒ…å« UUID çš„å†…å®¹ï¼Œæ˜¯å¦è‡ªåŠ¨å¡«å…¥å¹¶æ¸…ç©ºå½“å‰å†…å®¹ï¼Ÿ ",-1)),e("div",So,C(_.value),1)])]),_:1},8,["visible"]),P(oo)]))}},Jo=me(Lo,[["__scopeId","data-v-1b52a84d"]]);export{Jo as default};
